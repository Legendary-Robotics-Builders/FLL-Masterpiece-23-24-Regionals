<html>
  <head>
    <title>Music sheet page turning</title>
  </head>

  <body>
    <!--This draws the canvas on the webpage -->
    <canvas id="mycanvas"></canvas>
  </body>

  <!-- Include the processing.js library -->
  <script src="https://cdn.jsdelivr.net/processing.js/1.4.8/processing.min.js"></script>
  <script>
    tempo = prompt("Tempo:");
    function start() {
      var programCode = function (processingInstance) {
        with (processingInstance) {
          size(window.innerWidth, window.innerHeight);
          frameRate(30);

          var page1 = loadImage("music-1.png");
          var page2 = loadImage("music-2.png");
          var beatsPerSecond = tempo / 60;
          var pages = [page1, page2];
          var i = 0;
          var x = 365;
          draw = function () {
            if (x > 1184) {
              x = 365;
              i++;
            }
            
            background(255, 255, 255);
            image(pages[i], 300, 200);
            fill(0, 0, 0);
            ellipse(mouseX, mouseY, 12, 12);
            var label = mouseX + "," + mouseY;
            text(label, mouseX + 11, mouseY);

            strokeWeight(5);
            line(x, 229, x, 262);
            x += beatsPerSecond/.5555;
          };
        }
      };
          // Get the canvas that ProcessingJS will use
    var canvas = document.getElementById("mycanvas");
    // Pass the function to ProcessingJS constructor
    var processingInstance = new Processing(canvas, programCode);
    }


  </script>
  <button onclick="start();">start</button>
</html>
